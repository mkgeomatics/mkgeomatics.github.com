
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Python GP Strangeness - mattmakesmaps</title>
  <meta name="author" content="Matthew Kenny">

   
  <meta name="description" content="open source mapping notes from cascadia">
  
  <meta name="keywords" content="GIS, Open Source, web mapping, seattle, CUGOS, Ridolfi, django, python, geodjango">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mkgeomatics.github.io/blog/2008/09/14/python-gp-strangeness">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="mattmakesmaps" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40519413-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/index.html">Home</a></li>
    
        <li ><a href="/about/">About</a></li>
    
        <li ><a href="/portfolio/">Portfolio/Slides</a></li>
    
        <li ><a href="/blog/archives/">Archives</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/mattmakesmaps" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://linkedin.com/in/mattmakesmaps" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/mattmakesmaps" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    
    
    <li><a href="mailto:matthewkenny AT gmail DOT com" title="Email"><i class="icon-envelope-alt social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div>
<article class="hentry" role="article">
  

  <header>
  <div class="jumbotron">
    Python GP Strangeness
	<h5>








  


<i class="icon-calendar-empty"></i> <time datetime="2008-09-14T09:11:44-07:00" pubdate data-updated="true">Sep 14<span>th</span>, 2008</time></h5>
  </div>
</header>
  <div class="row-fluid">
    <div class="span12">
      <p>I had to explicitly set the workspace, list the ASCII files, THEN link the two into a single variable for use in the ASCIIToRaster tool. I could have sworn that all I needed to do was to pass along the ASCII variable right into the ASCIIToRaster tool, and it would automatically carry the file path along with it. Maybe that is only the case when you are working with fields, rather than rasters / feature classes?</p>

<!-- more -->




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#Batch Convert ASCII to ESRI GRID</span>
</span><span class='line'><span class="c">#Matthew Kenny</span>
</span><span class='line'><span class="c">#September 14, 2008</span>
</span><span class='line'><span class="c">#############################################################</span>
</span><span class='line'><span class="c"># Import the arcgisscripting module</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">arcgisscripting</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Create the Geoprocessor object</span>
</span><span class='line'><span class="n">gp</span> <span class="o">=</span> <span class="n">arcgisscripting</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set the workspace</span>
</span><span class='line'><span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;F:/!South_Kona/DEM_XYZ_Tiled/Area1/Group5/ASCII/&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c"># get list of all the ASCII files in the workspace</span>
</span><span class='line'><span class="n">asciiList</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ListRasters</span><span class="p">(</span><span class="s">&quot;*DEM*&quot;</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span class='line'><span class="k">print</span> <span class="s">&quot;Starting with &quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set initial INPUT file</span>
</span><span class='line'><span class="n">inputAscii</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="k">print</span> <span class="n">inputAscii</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set initial OUTPUT file</span>
</span><span class='line'><span class="n">raster</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/GRID/&quot;</span> <span class="o">+</span> <span class="n">ascii</span><span class="p">[:</span><span class="o">-</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;.img&quot;</span>
</span><span class='line'><span class="k">print</span> <span class="n">raster</span>
</span><span class='line'>
</span><span class='line'><span class="c"># loop through list of feature classes</span>
</span><span class='line'><span class="k">while</span> <span class="n">ascii</span><span class="p">:</span>
</span><span class='line'><span class="c">#Execute ASCII to Raster</span>
</span><span class='line'><span class="err">   </span> <span class="n">gp</span><span class="o">.</span><span class="n">ASCIIToRaster_conversion</span><span class="p">(</span><span class="n">inputAscii</span><span class="p">,</span> <span class="n">raster</span><span class="p">,</span> <span class="s">&quot;INTEGER&quot;</span><span class="p">)</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;File &quot;</span> <span class="o">+</span> <span class="n">raster</span><span class="o">+</span> <span class="s">&quot; has been created.&quot;</span>
</span><span class='line'><span class="err">   </span> <span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;Moving onto &quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="err">   </span> <span class="n">inputAscii</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;new inputAscii: &quot;</span> <span class="o">+</span> <span class="n">inputAscii</span>
</span><span class='line'><span class="err">   </span> <span class="n">raster</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/GRID/&quot;</span> <span class="o">+</span> <span class="n">ascii</span><span class="p">[:</span><span class="o">-</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;.img&quot;</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;new output Raster: &quot;</span> <span class="o">+</span> <span class="n">raster</span>
</span><span class='line'><span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="c">#remove geoprocessor object from memory</span>
</span><span class='line'><span class="k">del</span> <span class="n">gp</span>
</span></code></pre></td></tr></table></div></figure>


    </div>
  </div>



  <footer>
    <hr>
    
    <div class="row-fluid">
      
      <div class="span6">
        <p class="meta">
        
        



  <a href="/blog/categories/scripting/"><span class="badge">Scripting</span></a>




        </p>
      </div>
      
      <div class="span6 social-sharing">
        <div class="sharing">
  <div class="addthis_toolbox addthis_default_style ">
  
  
  <a class="addthis_button_tweet"></a>
  
  
  <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>

      </div>
      
      
    </div>
    
    <div class="row-fluid">
      <div class="span12">
        <p class="meta">
          
            <a class="basic-alignment left" href="/blog/2008/09/12/gdal-proj4-on-shared-webhost/" title="Previous Post: GDAL / PROJ.4 On Shared Webhost">&laquo; GDAL / PROJ.4 On Shared Webhost</a>
          
          
            <a class="basic-alignment right" href="/blog/2008/09/14/web-based-grass/" title="Next Post: Web-Based GRASS!">Web-Based GRASS! &raquo;</a>
          
        </p>
      </div>
    </div>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2013 - Matthew Kenny -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'mkgeomatics';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mkgeomatics.github.io/blog/2008/09/14/python-gp-strangeness/';
        var disqus_url = 'http://mkgeomatics.github.io/blog/2008/09/14/python-gp-strangeness/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
