
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Python GP Strangeness  | mattmakesmaps</title>

<meta name="author" content="Matt Kenny"> 

<meta name="description" content="maps + bikes = matt don't know nothin bout nothin else"> <meta name="keywords" content="GIS, Open Source, web mapping, seattle, CUGOS, Tableau, django, python, geodjango">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="mattmakesmaps" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">mattmakesmaps</a></h1>
<h4>maps + bikes = matt don't know nothin bout nothin else</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:mattmakesmaps.com">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Python GP Strangeness</h2>
	<div class="entry-content"><p>I had to explicitly set the workspace, list the ASCII files, THEN link the two into a single variable for use in the ASCIIToRaster tool. I could have sworn that all I needed to do was to pass along the ASCII variable right into the ASCIIToRaster tool, and it would automatically carry the file path along with it. Maybe that is only the case when you are working with fields, rather than rasters / feature classes?</p>

<!-- more -->




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#Batch Convert ASCII to ESRI GRID</span>
</span><span class='line'><span class="c">#Matthew Kenny</span>
</span><span class='line'><span class="c">#September 14, 2008</span>
</span><span class='line'><span class="c">#############################################################</span>
</span><span class='line'><span class="c"># Import the arcgisscripting module</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">arcgisscripting</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Create the Geoprocessor object</span>
</span><span class='line'><span class="n">gp</span> <span class="o">=</span> <span class="n">arcgisscripting</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set the workspace</span>
</span><span class='line'><span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;F:/!South_Kona/DEM_XYZ_Tiled/Area1/Group5/ASCII/&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c"># get list of all the ASCII files in the workspace</span>
</span><span class='line'><span class="n">asciiList</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">ListRasters</span><span class="p">(</span><span class="s">&quot;*DEM*&quot;</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)</span>
</span><span class='line'><span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span class='line'><span class="k">print</span> <span class="s">&quot;Starting with &quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set initial INPUT file</span>
</span><span class='line'><span class="n">inputAscii</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="k">print</span> <span class="n">inputAscii</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Set initial OUTPUT file</span>
</span><span class='line'><span class="n">raster</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/GRID/&quot;</span> <span class="o">+</span> <span class="n">ascii</span><span class="p">[:</span><span class="o">-</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;.img&quot;</span>
</span><span class='line'><span class="k">print</span> <span class="n">raster</span>
</span><span class='line'>
</span><span class='line'><span class="c"># loop through list of feature classes</span>
</span><span class='line'><span class="k">while</span> <span class="n">ascii</span><span class="p">:</span>
</span><span class='line'><span class="c">#Execute ASCII to Raster</span>
</span><span class='line'><span class="err">   </span> <span class="n">gp</span><span class="o">.</span><span class="n">ASCIIToRaster_conversion</span><span class="p">(</span><span class="n">inputAscii</span><span class="p">,</span> <span class="n">raster</span><span class="p">,</span> <span class="s">&quot;INTEGER&quot;</span><span class="p">)</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;File &quot;</span> <span class="o">+</span> <span class="n">raster</span><span class="o">+</span> <span class="s">&quot; has been created.&quot;</span>
</span><span class='line'><span class="err">   </span> <span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;Moving onto &quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="err">   </span> <span class="n">inputAscii</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">ascii</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;new inputAscii: &quot;</span> <span class="o">+</span> <span class="n">inputAscii</span>
</span><span class='line'><span class="err">   </span> <span class="n">raster</span> <span class="o">=</span> <span class="n">gp</span><span class="o">.</span><span class="n">workspace</span> <span class="o">+</span> <span class="s">&quot;/GRID/&quot;</span> <span class="o">+</span> <span class="n">ascii</span><span class="p">[:</span><span class="o">-</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;.img&quot;</span>
</span><span class='line'><span class="err">   </span> <span class="k">print</span> <span class="s">&quot;new output Raster: &quot;</span> <span class="o">+</span> <span class="n">raster</span>
</span><span class='line'><span class="n">ascii</span> <span class="o">=</span> <span class="n">asciiList</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="c">#remove geoprocessor object from memory</span>
</span><span class='line'><span class="k">del</span> <span class="n">gp</span>
</span></code></pre></td></tr></table></div></figure>

</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-09-14T09:11:44-07:00" pubdate data-updated="true">Sep 14<span>th</span>, 2008</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/scripting/'>Scripting</a>

</div>


	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
<!---	<a class="addthis_counter addthis_pill_style"></a> --->
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Matt Kenny

<br>

    <a href="https://github.com/mattmakesmaps">Github</a> 


    <a href="https://twitter.com/mattmakesmaps">Twitter</a> 


    <a href="https://www.linkedin.com/in/mattmakesmaps">Linkedin</a>

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'mkgeomatics';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://mattmakesmaps.com/blog/2008/09/14/python-gp-strangeness/';
        var disqus_url = 'http://mattmakesmaps.com/blog/2008/09/14/python-gp-strangeness/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-40519413-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
